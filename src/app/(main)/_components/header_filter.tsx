'use client';

import React from 'react';
import { DemoContainer } from '@mui/x-date-pickers/internals/demo';
import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';
import { LocalizationProvider, renderTimeViewClock, DatePicker } from '@mui/x-date-pickers';
import { TimePicker } from '@mui/x-date-pickers/TimePicker';
import "dayjs/locale/pt-br";

import dayjs, { Dayjs } from 'dayjs';

interface HeaderFilterProps {
  onClose: () => void;
}

const HeaderFilter: React.FC<HeaderFilterProps> = ({ onClose }) => {
  const [startTime, setStartTime] = React.useState<Dayjs | null>(null);
  const [endTime, setEndTime] = React.useState<Dayjs | null>(null);
  const [date, setDate] = React.useState<Dayjs | null>(null);
  const [startDate, setStartDate] = React.useState<Dayjs | null>(null);
  const [endDate, setEndDate] = React.useState<Dayjs | null>(null);
  const [discipline, setDiscipline] = React.useState('');

  const handleStartTimeChange = (time: Dayjs | null) => {
    setStartTime(time);
  };

  const handleEndTimeChange = (time: Dayjs | null) => {
    setEndTime(time);
  };

  const handleStartDateChange = (date: Dayjs | null) => {
    setStartDate(date);
  };

  const handleEndDateChange = (date: Dayjs | null) => {
    setEndDate(date);
  };

  const handleResetTime = () => {
    setStartTime(null);
    setEndTime(null);
  };

  const handleResetDate = () => {
    setStartDate(null);
    setEndDate(null);
  };

  const handleResetDiscipline = () => {
    setDiscipline('');
  };

  return (
    <div className=" fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">

      <div className="relative bg-gray-100 w-[490px] h-[390px] p-6 rounded-lg shadow-lg">
        <div className="flex items-center mb-2">
          <svg
            width="33"
            height="33"
            viewBox="0 0 33 33"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M25.8496 17.69C25.8496 17.9605 25.7422 18.2199 25.5509 18.4112C25.3596 18.6025 25.1002 18.71 24.8296 18.71H8.50965C8.23913 18.71 7.97969 18.6025 7.7884 18.4112C7.59711 18.2199 7.48965 17.9605 7.48965 17.69C7.48965 17.4195 7.59711 17.16 7.7884 16.9687C7.97969 16.7775 8.23913 16.67 8.50965 16.67H24.8296C25.1002 16.67 25.3596 16.7775 25.5509 16.9687C25.7422 17.16 25.8496 17.4195 25.8496 17.69ZM29.9296 10.55H3.40965C3.13913 10.55 2.87969 10.6575 2.6884 10.8487C2.49711 11.04 2.38965 11.2995 2.38965 11.57C2.38965 11.8405 2.49711 12.0999 2.6884 12.2912C2.87969 12.4825 3.13913 12.59 3.40965 12.59H29.9296C30.2002 12.59 30.4596 12.4825 30.6509 12.2912C30.8422 12.0999 30.9496 11.8405 30.9496 11.57C30.9496 11.2995 30.8422 11.04 30.6509 10.8487C30.4596 10.6575 30.2002 10.55 29.9296 10.55ZM19.7296 22.79H13.6096C13.3391 22.79 13.0797 22.8974 12.8884 23.0887C12.6971 23.28 12.5896 23.5395 12.5896 23.81C12.5896 24.0805 12.6971 24.3399 12.8884 24.5312C13.0797 24.7225 13.3391 24.83 13.6096 24.83H19.7296C20.0002 24.83 20.2596 24.7225 20.4509 24.5312C20.6422 24.3399 20.7496 24.0805 20.7496 23.81C20.7496 23.5395 20.6422 23.28 20.4509 23.0887C20.2596 22.8974 20.0002 22.79 19.7296 22.79Z"
              fill="black"
            />
          </svg>
          <h2 className="ml-1 text-[25px] font-bold">Filtro</h2>
          <button onClick={onClose} className="absolute r-2 right-6">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18 6L6 18" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
              <path d="M6 6L18 18" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
          </button>
        </div>
        
        <div className="mb-1">
          <label htmlFor="hora" className="block text-sm font-medium items-center">
            <h2 className='text-xl font-bold'>Horário</h2>
          </label>
          <LocalizationProvider dateAdapter={AdapterDayjs} adapterLocale="pt-br">
            <div className="flex items-center space-x-2">
              <DemoContainer components={['TimePicker']}>
                <TimePicker 
                  ampm={false}
                  label="Horário Inicial"
                  viewRenderers={{
                    hours: renderTimeViewClock,
                    minutes: renderTimeViewClock,
                    seconds: renderTimeViewClock,
                  }}
                  value={startTime}
                  onChange={handleStartTimeChange}
                />
              </DemoContainer>
              <DemoContainer components={['TimePicker']}>
                <TimePicker
                  ampm={false}
                  label="Horário Final"
                  viewRenderers={{
                    hours: renderTimeViewClock,
                    minutes: renderTimeViewClock,
                    seconds: renderTimeViewClock,
                  }}
                  value={endTime}
                  onChange={handleEndTimeChange}
                />
              </DemoContainer>
              <button onClick={handleResetTime} className="ml-3">
                <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M22.624 4.31244H18.249V3.43744C18.249 2.74125 17.9725 2.07357 17.4802 1.58128C16.9879 1.089 16.3202 0.812439 15.624 0.812439H10.374C9.67783 0.812439 9.01015 1.089 8.51787 1.58128C8.02558 2.07357 7.74902 2.74125 7.74902 3.43744V4.31244H3.37402C3.14196 4.31244 2.9194 4.40463 2.75531 4.56872C2.59121 4.73281 2.49902 4.95537 2.49902 5.18744C2.49902 5.4195 2.59121 5.64206 2.75531 5.80616C2.9194 5.97025 3.14196 6.06244 3.37402 6.06244H4.24902V21.8124C4.24902 22.2766 4.4334 22.7217 4.76159 23.0499C5.08977 23.3781 5.53489 23.5624 5.99902 23.5624H19.999C20.4632 23.5624 20.9083 23.3781 21.2365 23.0499C21.5646 22.7217 21.749 22.2766 21.749 21.8124V6.06244H22.624C22.8561 6.06244 23.0786 5.97025 23.2427 5.80616C23.4068 5.64206 23.499 5.4195 23.499 5.18744C23.499 4.95537 23.4068 4.73281 23.2427 4.56872C23.0786 4.40463 22.8561 4.31244 22.624 4.31244ZM9.49902 3.43744C9.49902 3.20537 9.59121 2.98282 9.7553 2.81872C9.9194 2.65463 10.142 2.56244 10.374 2.56244H15.624C15.8561 2.56244 16.0786 2.65463 16.2427 2.81872C16.4068 2.98282 16.499 3.20537 16.499 3.43744V4.31244H9.49902V3.43744ZM19.999 21.8124H5.99902V6.06244H19.999V21.8124ZM11.249 10.4374V17.4374C11.249 17.6695 11.1568 17.8921 10.9927 18.0562C10.8286 18.2203 10.6061 18.3124 10.374 18.3124C10.142 18.3124 9.9194 18.2203 9.7553 18.0562C9.59121 17.8921 9.49902 17.6695 9.49902 17.4374V10.4374C9.49902 10.2054 9.59121 9.98281 9.7553 9.81872C9.9194 9.65463 10.142 9.56244 10.374 9.56244C10.6061 9.56244 10.8286 9.65463 10.9927 9.81872C11.1568 9.98281 11.249 10.2054 11.249 10.4374ZM16.499 10.4374V17.4374C16.499 17.6695 16.4068 17.8921 16.2427 18.0562C16.0786 18.2203 15.8561 18.3124 15.624 18.3124C15.392 18.3124 15.1694 18.2203 15.0053 18.0562C14.8412 17.8921 14.749 17.6695 14.749 17.4374V10.4374C14.749 10.2054 14.8412 9.98281 15.0053 9.81872C15.1694 9.65463 15.392 9.56244 15.624 9.56244C15.8561 9.56244 16.0786 9.65463 16.2427 9.81872C16.4068 9.98281 16.499 10.2054 16.499 10.4374Z"
                  fill="black"/>
                </svg>
              </button>
            </div>
          </LocalizationProvider>
        </div>
        
        <div className="mb-1">
          <label htmlFor="data" className="block text-sm font-medium items-center">
            <h2 className='text-xl font-bold'>Data</h2>
          </label>
          <LocalizationProvider dateAdapter={AdapterDayjs} adapterLocale="pt-br">
            <div className="flex items-center space-x-2">
              <DemoContainer components={['DatePicker']}>
                <DatePicker
                  label="Data Inicial"
                  format="DD/MM/YYYY"
                  value={startDate} 
                  onChange={(newDate) => handleStartDateChange(newDate)}
                />
              </DemoContainer>
              <DemoContainer components={['DatePicker']}>
                <DatePicker
                  label="Data Final"
                  format="DD/MM/YYYY"
                  value={endDate} 
                  onChange={(newDate) => handleEndDateChange(newDate)}
                />
              </DemoContainer>
              <button onClick={handleResetDate} className="ml-3">
                <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M22.624 4.31244H18.249V3.43744C18.249 2.74125 17.9725 2.07357 17.4802 1.58128C16.9879 1.089 16.3202 0.812439 15.624 0.812439H10.374C9.67783 0.812439 9.01015 1.089 8.51787 1.58128C8.02558 2.07357 7.74902 2.74125 7.74902 3.43744V4.31244H3.37402C3.14196 4.31244 2.9194 4.40463 2.75531 4.56872C2.59121 4.73281 2.49902 4.95537 2.49902 5.18744C2.49902 5.4195 2.59121 5.64206 2.75531 5.80616C2.9194 5.97025 3.14196 6.06244 3.37402 6.06244H4.24902V21.8124C4.24902 22.2766 4.4334 22.7217 4.76159 23.0499C5.08977 23.3781 5.53489 23.5624 5.99902 23.5624H19.999C20.4632 23.5624 20.9083 23.3781 21.2365 23.0499C21.5646 22.7217 21.749 22.2766 21.749 21.8124V6.06244H22.624C22.8561 6.06244 23.0786 5.97025 23.2427 5.80616C23.4068 5.64206 23.499 5.4195 23.499 5.18744C23.499 4.95537 23.4068 4.73281 23.2427 4.56872C23.0786 4.40463 22.8561 4.31244 22.624 4.31244ZM9.49902 3.43744C9.49902 3.20537 9.59121 2.98282 9.7553 2.81872C9.9194 2.65463 10.142 2.56244 10.374 2.56244H15.624C15.8561 2.56244 16.0786 2.65463 16.2427 2.81872C16.4068 2.98282 16.499 3.20537 16.499 3.43744V4.31244H9.49902V3.43744ZM19.999 21.8124H5.99902V6.06244H19.999V21.8124ZM11.249 10.4374V17.4374C11.249 17.6695 11.1568 17.8921 10.9927 18.0562C10.8286 18.2203 10.6061 18.3124 10.374 18.3124C10.142 18.3124 9.9194 18.2203 9.7553 18.0562C9.59121 17.8921 9.49902 17.6695 9.49902 17.4374V10.4374C9.49902 10.2054 9.59121 9.98281 9.7553 9.81872C9.9194 9.65463 10.142 9.56244 10.374 9.56244C10.6061 9.56244 10.8286 9.65463 10.9927 9.81872C11.1568 9.98281 11.249 10.2054 11.249 10.4374ZM16.499 10.4374V17.4374C16.499 17.6695 16.4068 17.8921 16.2427 18.0562C16.0786 18.2203 15.8561 18.3124 15.624 18.3124C15.392 18.3124 15.1694 18.2203 15.0053 18.0562C14.8412 17.8921 14.749 17.6695 14.749 17.4374V10.4374C14.749 10.2054 14.8412 9.98281 15.0053 9.81872C15.1694 9.65463 15.392 9.56244 15.624 9.56244C15.8561 9.56244 16.0786 9.65463 16.2427 9.81872C16.4068 9.98281 16.499 10.2054 16.499 10.4374Z"
                  fill="black"/>
                </svg>
              </button>
            </div>
          </LocalizationProvider>
        </div>
        
        <div className="mb-1">
          <label htmlFor="disciplina" className="block text-sm font-medium items-center">
            <h2 className='text-xl font-bold'>Disciplina</h2>
          </label>
          <ul className="space-y-1 w-[390px] flex items-center">
            <li className="shadow shadow-gray-500 rounded-md bg-zinc-300 p-0.4">
              Fundamentos de Programação     
            </li>
            <button onClick={handleResetDiscipline} className="ml-[4px]">
              <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d= "M22.624 4.31244H18.249V3.43744C18.249 2.74125 17.9725 2.07357 17.4802 1.58128C16.9879 1.089 16.3202 0.812439 15.624 0.812439H10.374C9.67783 0.812439 9.01015 1.089 8.51787 1.58128C8.02558 2.07357 7.74902 2.74125 7.74902 3.43744V4.31244H3.37402C3.14196 4.31244 2.9194 4.40463 2.75531 4.56872C2.59121 4.73281 2.49902 4.95537 2.49902 5.18744C2.49902 5.4195 2.59121 5.64206 2.75531 5.80616C2.9194 5.97025 3.14196 6.06244 3.37402 6.06244H4.24902V21.8124C4.24902 22.2766 4.4334 22.7217 4.76159 23.0499C5.08977 23.3781 5.53489 23.5624 5.99902 23.5624H19.999C20.4632 23.5624 20.9083 23.3781 21.2365 23.0499C21.5646 22.7217 21.749 22.2766 21.749 21.8124V6.06244H22.624C22.8561 6.06244 23.0786 5.97025 23.2427 5.80616C23.4068 5.64206 23.499 5.4195 23.499 5.18744C23.499 4.95537 23.4068 4.73281 23.2427 4.56872C23.0786 4.40463 22.8561 4.31244 22.624 4.31244ZM9.49902 3.43744C9.49902 3.20537 9.59121 2.98282 9.7553 2.81872C9.9194 2.65463 10.142 2.56244 10.374 2.56244H15.624C15.8561 2.56244 16.0786 2.65463 16.2427 2.81872C16.4068 2.98282 16.499 3.20537 16.499 3.43744V4.31244H9.49902V3.43744ZM19.999 21.8124H5.99902V6.06244H19.999V21.8124ZM11.249 10.4374V17.4374C11.249 17.6695 11.1568 17.8921 10.9927 18.0562C10.8286 18.2203 10.6061 18.3124 10.374 18.3124C10.142 18.3124 9.9194 18.2203 9.7553 18.0562C9.59121 17.8921 9.49902 17.6695 9.49902 17.4374V10.4374C9.49902 10.2054 9.59121 9.98281 9.7553 9.81872C9.9194 9.65463 10.142 9.56244 10.374 9.56244C10.6061 9.56244 10.8286 9.65463 10.9927 9.81872C11.1568 9.98281 11.249 10.2054 11.249 10.4374ZM16.499 10.4374V17.4374C16.499 17.6695 16.4068 17.8921 16.2427 18.0562C16.0786 18.2203 15.8561 18.3124 15.624 18.3124C15.392 18.3124 15.1694 18.2203 15.0053 18.0562C14.8412 17.8921 14.749 17.6695 14.749 17.4374V10.4374C14.749 10.2054 14.8412 9.98281 15.0053 9.81872C15.1694 9.65463 15.392 9.56244 15.624 9.56244C15.8561 9.56244 16.0786 9.65463 16.2427 9.81872C16.4068 9.98281 16.499 10.2054 16.499 10.4374Z"
                fill="black"/>
              </svg>
            </button>
          </ul>
          <ul className="space-y-1 w-[390px] flex items-center">
            <li className="shadow shadow-gray-500 rounded-md bg-zinc-300 p-0.4">
              Uma Cadeira Da Faculdade Uma Ca
            </li>
            <button onClick={handleResetDiscipline} className="ml-[4px]">
              <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d= "M22.624 4.31244H18.249V3.43744C18.249 2.74125 17.9725 2.07357 17.4802 1.58128C16.9879 1.089 16.3202 0.812439 15.624 0.812439H10.374C9.67783 0.812439 9.01015 1.089 8.51787 1.58128C8.02558 2.07357 7.74902 2.74125 7.74902 3.43744V4.31244H3.37402C3.14196 4.31244 2.9194 4.40463 2.75531 4.56872C2.59121 4.73281 2.49902 4.95537 2.49902 5.18744C2.49902 5.4195 2.59121 5.64206 2.75531 5.80616C2.9194 5.97025 3.14196 6.06244 3.37402 6.06244H4.24902V21.8124C4.24902 22.2766 4.4334 22.7217 4.76159 23.0499C5.08977 23.3781 5.53489 23.5624 5.99902 23.5624H19.999C20.4632 23.5624 20.9083 23.3781 21.2365 23.0499C21.5646 22.7217 21.749 22.2766 21.749 21.8124V6.06244H22.624C22.8561 6.06244 23.0786 5.97025 23.2427 5.80616C23.4068 5.64206 23.499 5.4195 23.499 5.18744C23.499 4.95537 23.4068 4.73281 23.2427 4.56872C23.0786 4.40463 22.8561 4.31244 22.624 4.31244ZM9.49902 3.43744C9.49902 3.20537 9.59121 2.98282 9.7553 2.81872C9.9194 2.65463 10.142 2.56244 10.374 2.56244H15.624C15.8561 2.56244 16.0786 2.65463 16.2427 2.81872C16.4068 2.98282 16.499 3.20537 16.499 3.43744V4.31244H9.49902V3.43744ZM19.999 21.8124H5.99902V6.06244H19.999V21.8124ZM11.249 10.4374V17.4374C11.249 17.6695 11.1568 17.8921 10.9927 18.0562C10.8286 18.2203 10.6061 18.3124 10.374 18.3124C10.142 18.3124 9.9194 18.2203 9.7553 18.0562C9.59121 17.8921 9.49902 17.6695 9.49902 17.4374V10.4374C9.49902 10.2054 9.59121 9.98281 9.7553 9.81872C9.9194 9.65463 10.142 9.56244 10.374 9.56244C10.6061 9.56244 10.8286 9.65463 10.9927 9.81872C11.1568 9.98281 11.249 10.2054 11.249 10.4374ZM16.499 10.4374V17.4374C16.499 17.6695 16.4068 17.8921 16.2427 18.0562C16.0786 18.2203 15.8561 18.3124 15.624 18.3124C15.392 18.3124 15.1694 18.2203 15.0053 18.0562C14.8412 17.8921 14.749 17.6695 14.749 17.4374V10.4374C14.749 10.2054 14.8412 9.98281 15.0053 9.81872C15.1694 9.65463 15.392 9.56244 15.624 9.56244C15.8561 9.56244 16.0786 9.65463 16.2427 9.81872C16.4068 9.98281 16.499 10.2054 16.499 10.4374Z"
                fill="black"/>
              </svg>
            </button>
            <button className="">
              <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d= "M13 0C10.4288 0 7.91543 0.762437 5.77759 2.19089C3.63975 3.61935 1.97351 5.64967 0.989572 8.02511C0.0056327 10.4006 -0.251811 13.0144 0.249797 15.5362C0.751405 18.0579 1.98953 20.3743 3.80762 22.1924C5.6257 24.0105 7.94208 25.2486 10.4638 25.7502C12.9856 26.2518 15.5994 25.9944 17.9749 25.0104C20.3503 24.0265 22.3806 22.3602 23.8091 20.2224C25.2376 18.0846 26 15.5712 26 13C25.9964 9.5533 24.6256 6.24881 22.1884 3.81163C19.7512 1.37445 16.4467 0.00363977 13 0ZM13 24C10.8244 24 8.69767 23.3549 6.88873 22.1462C5.07979 20.9375 3.66989 19.2195 2.83733 17.2095C2.00477 15.1995 1.78693 12.9878 2.21137 10.854C2.6358 8.72021 3.68345 6.7602 5.22183 5.22182C6.76021 3.68345 8.72022 2.6358 10.854 2.21136C12.9878 1.78692 15.1995 2.00476 17.2095 2.83732C19.2195 3.66989 20.9375 5.07979 22.1462 6.88873C23.3549 8.69767 24 10.8244 24 13C23.9967 15.9164 22.8367 18.7123 20.7745 20.7745C18.7123 22.8367 15.9164 23.9967 13 24ZM19 13C19 13.2652 18.8946 13.5196 18.7071 13.7071C18.5196 13.8946 18.2652 14 18 14H14V18C14 18.2652 13.8946 18.5196 13.7071 18.7071C13.5196 18.8946 13.2652 19 13 19C12.7348 19 12.4804 18.8946 12.2929 18.7071C12.1054 18.5196 12 18.2652 12 18V14H8C7.73479 14 7.48043 13.8946 7.2929 13.7071C7.10536 13.5196 7 13.2652 7 13C7 12.7348 7.10536 12.4804 7.2929 12.2929C7.48043 12.1054 7.73479 12 8 12H12V8C12 7.73478 12.1054 7.48043 12.2929 7.29289C12.4804 7.10536 12.7348 7 13 7C13.2652 7 13.5196 7.10536 13.7071 7.29289C13.8946 7.48043 14 7.73478 14 8V12H18C18.2652 12 18.5196 12.1054 18.7071 12.2929C18.8946 12.4804 19 12.7348 19 13Z"
                fill="black"/>
              </svg>
            </button>
          </ul>
        </div>

      </div>
    </div>
  );
};

export default HeaderFilter;
